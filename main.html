<body>
    <!-- ❤️ Animated Heart Background -->
    <div id="hearts-bg"></div>

    <div id="drag-container">
        <div id="spin-container">
            <img src="6.jpg" alt="">
            <img src="2.jpg" alt="">
            <img src="3.jpg" alt="">
            <img src="4.jpg" alt="">
            <img src="5.jpg" alt="">
            <img src="7.png" alt="">
            <img src="1.jpg" alt="">
            <img src="8.png" alt="">
            <p>Happy Birthday Tanishka</p>
        </div>
        <div id="ground"></div>
    </div>
    
    <div id="music-container"></div>

    <audio id="myAudio" autoplay playsinline>
        <source src="setlove.mp3" type="audio/mpeg">
        <source src="setlove.ogg" type="audio/ogg">
    </audio>

    <script src="main.js"></script>

    <script>
        // === Background Hearts ===
        const heartsBg = document.getElementById("hearts-bg");

        function createHeart() {
            const heart = document.createElement("div");
            heart.classList.add("heart");
            heart.style.left = Math.random() * 100 + "vw";
            heart.style.animationDuration = 3 + Math.random() * 2 + "s";
            heart.style.opacity = Math.random();
            heartsBg.appendChild(heart);
            setTimeout(() => {
                heart.remove();
            }, 5000);
        }

        setInterval(createHeart, 200);

        // === Audio & Canvas Effects (same as before) ===
        window.onload = function() {
            var audio = document.getElementById("myAudio");
            audio.muted = false;
            audio.play().catch(function(e) {
                console.log('Audio playback failed:', e);
            });

            const canvas = document.getElementById("canvas");
            const ctx = canvas?.getContext?.("2d");
            if (!ctx) return;

            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            function random(min, max) {
                return Math.random() * (max - min) + min;
            }

            function Firework(x, y) {
                this.x = x;
                this.y = y;
                this.radius = random(2, 4);
                this.color = `hsl(${random(0, 360)}, 100%, 50%)`;
                this.vx = random(-3, 3);
                this.vy = random(-3, 3);
                this.life = 100;
            }

            Firework.prototype.draw = function () {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.fillStyle = this.color;
                ctx.fill();
            };

            Firework.prototype.update = function () {
                this.x += this.vx;
                this.y += this.vy;
                this.life--;
            };

            function Heart(x, y) {
                this.x = x;
                this.y = y;
                this.size = random(20, 40);
                this.color = 'red';
                this.vy = random(-2, -1);
                this.opacity = 1;
            }

            Heart.prototype.draw = function () {
                ctx.beginPath();
                ctx.moveTo(this.x, this.y);
                ctx.bezierCurveTo(this.x - this.size / 2, this.y - this.size / 2, this.x - this.size, this.y + this.size / 3, this.x, this.y + this.size);
                ctx.bezierCurveTo(this.x + this.size, this.y + this.size / 3, this.x + this.size / 2, this.y - this.size / 2, this.x, this.y);
                ctx.fillStyle = this.color;
                ctx.globalAlpha = this.opacity;
                ctx.fill();
                ctx.globalAlpha = 1;
            };

            Heart.prototype.update = function () {
                this.y += this.vy;
                this.opacity -= 0.01;
            };

            let fireworks = [];
            let hearts = [];

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                if (Math.random() < 0.1) {
                    fireworks.push(new Firework(random(0, canvas.width), random(0, canvas.height)));
                }
                if (Math.random() < 0.05) {
                    hearts.push(new Heart(random(0, canvas.width), canvas.height));
                }

                fireworks.forEach((firework, index) => {
                    firework.draw();
                    firework.update();
                    if (firework.life <= 0) {
                        fireworks.splice(index, 1);
                    }
                });

                hearts.forEach((heart, index) => {
                    heart.draw();
                    heart.update();
                    if (heart.opacity <= 0) {
                        hearts.splice(index, 1);
                    }
                });

                requestAnimationFrame(animate);
            }
            animate();
        };
    </script>

    <style>
        /* ❤️ Floating hearts background */
        #hearts-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
            background: radial-gradient(circle at center, #ffe6eb, #ffd6e0, #ffc6d1);
        }

        .heart {
            position: absolute;
            width: 15px;
            height: 15px;
            background: red;
            transform: rotate(45deg);
            animation: floatUp linear forwards;
        }

        .heart::before,
        .heart::after {
            content: "";
            position: absolute;
            width: 15px;
            height: 15px;
            background: red;
            border-radius: 50%;
        }

        .heart::before {
            top: -7.5px;
            left: 0;
        }

        .heart::after {
            left: 7.5px;
            top: 0;
        }

        @keyframes floatUp {
            0% {
                transform: translateY(100vh) rotate(45deg) scale(1);
            }
            100% {
                transform: translateY(-10vh) rotate(45deg) scale(0.5);
                opacity: 0;
            }
        }
    </style>
</body>
